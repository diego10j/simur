<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="rep_consumo_rendimiento" language="groovy" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="0daec862-e024-4c16-bd15-1fc593d38fa3">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<queryString>
		<![CDATA[select * from
(select a.*,b.kilometros,c.galon,d.total from
(SELECT DISTINCT PLACA_VEHICULO
FROM MVABASTECIMIENTO_COMBUSTIBLE
where ANIO = '2014' and PERIODO = '10')as a
left join
(SELECT ROUND(AVG(KILOMETRAJE),2) as kilometros,
PLACA_VEHICULO
FROM MVABASTECIMIENTO_COMBUSTIBLE
GROUP BY PLACA_VEHICULO) as b
on a.placa_vehiculo = b.placa_vehiculo
left join
(SELECT ROUND(sum (GALONES),2) as galon,
PLACA_VEHICULO
FROM MVABASTECIMIENTO_COMBUSTIBLE
GROUP BY PLACA_VEHICULO) as c
on a.placa_vehiculo = c.placa_vehiculo
left join
(SELECT ROUND(sum (TOTAL),2) as total,
PLACA_VEHICULO
FROM MVABASTECIMIENTO_COMBUSTIBLE
GROUP BY PLACA_VEHICULO) as d
on a.placa_vehiculo = d.placa_vehiculo
) as p
order by total]]>
	</queryString>
	<field name="PLACA_VEHICULO" class="java.lang.String"/>
	<field name="kilometros" class="java.lang.Integer"/>
	<field name="galon" class="java.lang.Double"/>
	<field name="total" class="java.lang.Double"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="79" splitType="Stretch"/>
	</title>
	<pageHeader>
		<band height="4" splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band height="3" splitType="Stretch"/>
	</columnHeader>
	<detail>
		<band height="3" splitType="Stretch"/>
	</detail>
	<columnFooter>
		<band height="3" splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="4" splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="250" splitType="Stretch">
			<lineChart>
				<chart theme="generic">
					<reportElement uuid="e3023d27-29f5-47d1-b9ec-c364adf5f4cc" x="0" y="0" width="802" height="250"/>
					<chartTitle position="Bottom"/>
					<chartSubtitle/>
					<chartLegend position="Top"/>
				</chart>
				<categoryDataset>
					<categorySeries>
						<seriesExpression><![CDATA["Valor"]]></seriesExpression>
						<categoryExpression><![CDATA[$F{PLACA_VEHICULO}]]></categoryExpression>
						<valueExpression><![CDATA[$F{total}]]></valueExpression>
						<labelExpression><![CDATA[$F{PLACA_VEHICULO}+"-"+$F{total}]]></labelExpression>
					</categorySeries>
					<categorySeries>
						<seriesExpression><![CDATA["Galones"]]></seriesExpression>
						<categoryExpression><![CDATA[$F{PLACA_VEHICULO}]]></categoryExpression>
						<valueExpression><![CDATA[$F{galon}]]></valueExpression>
						<labelExpression><![CDATA[$F{PLACA_VEHICULO}+"-"+$F{galon}]]></labelExpression>
					</categorySeries>
				</categoryDataset>
				<linePlot>
					<plot labelRotation="45.0">
						<seriesColor seriesOrder="0" color="#99FF99"/>
						<seriesColor seriesOrder="1" color="#FF3333"/>
					</plot>
					<categoryAxisFormat labelRotation="45.0">
						<axisFormat/>
					</categoryAxisFormat>
					<valueAxisFormat>
						<axisFormat/>
					</valueAxisFormat>
				</linePlot>
			</lineChart>
		</band>
	</summary>
</jasperReport>
